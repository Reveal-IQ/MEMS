"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[6348,1659],{6348:function(l,e,a){a.r(e),a.d(e,{default:function(){return g}});var s=a(6252),t=a(3577),c=a(2262),i=a(1659),o=a(3907);const n={class:"container-fluid"},r={class:"d-flex gap-3 p-2"},d=(0,s.uE)('<div class="d-flex flex-column p-2 mt-4"><span class="title text-dark fw-normal fs-3">Global Inventory Summary by Medical Device Description</span><nav class="d-flex gap-3 p-1"><small class="text-secondary" style="cursor:pointer;">Print</small><small class="text-secondary" style="cursor:pointer;">CSV Export</small><small class="text-secondary" style="cursor:pointer;">Download</small></nav></div><div class="p-2 mt-4"><small class="text-secondary">List of active and inactive medical devices grouped by their device description and the total value of active devices. </small></div>',2),u={class:"mt-4 p-2"},m={class:"fw-bold fs-4"},v={class:"row"},f={class:"mt-2 table-responsive"},p={class:"table table-responsive table-borderless mb-2"},y=(0,s._)("thead",null,[(0,s._)("tr",{style:{"background-color":"#f5f6f6"}},[(0,s._)("th",{scope:"col",width:"20%"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Device Code")]),(0,s._)("th",{scope:"col",width:"50%"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Device Description")]),(0,s._)("th",{scope:"col"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Active Devices")]),(0,s._)("th",{scope:"col"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Total Value")]),(0,s._)("th",{scope:"col"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Inactive Devices")])])],-1),_={style:{"background-color":"#f5f6f6"}};var w={props:["facilityName","facilityID"],emits:["updatePage"],setup(l,{emit:e}){const a=l,w=(0,o.oR)(),D=l=>{w.dispatch("sendSocketReq",l)},g=(0,c.iH)([]),x=(0,c.iH)([]),S=(0,c.iH)(0),b=(0,c.iH)(0),M=(0,c.iH)(0),h=async()=>{console.log("calling function");try{D({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"GET_REPORTS",reportType:"description"}},callback:l=>{if("RESPONSE"===l.Type){console.log("Response Packet --\x3e",l.Response),x.value=l.Response.records,b.value=0,M.value=0,S.value=0;var e=x.value;e.forEach((l=>{S.value+=l.totalCost,b.value+=l.active,M.value+=l.inactive}))}else l.Type}})}catch(l){console.log(l)}},T=async()=>{try{D({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Asset",lookups:[{localField:"modelID",collection:"Model",foreignField:"_id",as:"Model"},{localField:"manufacturerID",collection:"Manufacturer",foreignField:"_id",as:"Manufacturer"},{localField:"facilityID",collection:"Facility",foreignField:"_id",as:"Facility"}],projection:{_id:1,assetCode:1,modelName:"$Model.modelName",commonName:"$Model.commonName",UMDNSCode:"$Model.UMDNSCode",deviceDescription:"$Model.deviceDescription",manufacturerName:"$Manufacturer.manufacturerName",facilityName:"$Facility.facilityName"}}}},callback:l=>{"RESPONSE"===l.Type?(console.log("Response Packet --\x3e",l.Response),g.value=l.Response.records):l.Type}})}catch(l){console.log(l)}},E=async(l,a)=>{e("updatePage",l,a)};return(0,s.bv)((()=>{h(),T()})),(l,e)=>((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("nav",r,[(0,s._)("small",{class:"text-secondary",style:{cursor:"pointer"},onClick:e[0]||(e[0]=l=>E("reportsList",{facilityName:a.facilityName}))},"Back")]),d,(0,s._)("div",u,[(0,s._)("span",m,(0,t.zw)(a.facilityName),1)]),(0,s._)("div",v,[(0,s.Wm)((0,c.SU)(i["default"]),{cardTitle:"Overall Device Description",statisticsValue:x.value.length,class:"fs-4 fw-normal"},null,8,["statisticsValue"]),(0,s.Wm)((0,c.SU)(i["default"]),{cardTitle:"Overall Active Devices",statisticsValue:b.value,class:"fs-4 fw-normal"},null,8,["statisticsValue"]),(0,s.Wm)((0,c.SU)(i["default"]),{cardTitle:"Overall Value",statisticsValue:"$"+S.value,class:"fs-4 fw-normal"},null,8,["statisticsValue"]),(0,s.Wm)((0,c.SU)(i["default"]),{cardTitle:"Overall Inactive Devices",statisticsValue:M.value,class:"fs-4 fw-normal"},null,8,["statisticsValue"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(x.value,(l=>((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("table",p,[y,(0,s._)("tbody",null,[(0,s._)("tr",_,[(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.UMDNSCode),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.description),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.active),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)("$"+l.totalCost),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.inactive),1)])])])])])))),256))]))}};const D=w;var g=D},1659:function(l,e,a){a.r(e),a.d(e,{default:function(){return f}});var s=a(6252),t=a(3577);const c={class:"col-xl-2 col-lg-4 col-md-4 col-sm-6 col-6"},i={class:""},o={class:"p-1"},n={class:"mb-3"},r={class:"mb-0"},d={class:"row align-items-center d-flex"},u={class:"col-8"};var m={props:{cardTitle:{type:String,default:"Card Title"},statisticsValue:{type:String,default:"15,000"},class:String},setup(l){const e=l;return(a,m)=>((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",i,[(0,s._)("div",o,[(0,s._)("div",n,[(0,s._)("small",r,(0,t.zw)(e.cardTitle),1)]),(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("h2",{class:(0,t.C_)(["d-flex align-items-center mb-0",l.class])},(0,t.zw)(e.statisticsValue),3)])])])])]))}};const v=m;var f=v}}]);
//# sourceMappingURL=6348.694cbdc0.js.map