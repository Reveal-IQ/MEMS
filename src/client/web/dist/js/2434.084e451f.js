"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[2434,7708],{1922:function(e,a,l){l.a(e,(async function(e,t){try{var n=l(6252),u=l(2262),o=l(9963),c=l(3577),s=l(3907),r=l(8747),d=l(4741),i=(l(1028),l(3432)),m=l(1948),f=e([r,d]);[r,d]=f.then?(await f)():f;const v=e=>((0,n.dD)("data-v-4ee9e15f"),e=e(),(0,n.Cn)(),e),p={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2 g-3 mb-3"},y={class:"col"},N=v((()=>(0,n._)("label",{for:"manufacturerList",class:"form-label"},"Manufacturer",-1))),_={class:"input-group"},w={id:"manufacturerOptions"},M=["value"],g={key:0,class:"col"},k={class:"d-flex justify-content-between px-3"},b=v((()=>(0,n._)("span",{class:"card-title fw-normal fs-6"},"Model",-1))),C=["value"],S={class:"d-flex flex-column gap-3"},h={class:"d-flex flex-column"},R={class:"text-dark fsXs"},x={key:0,class:"d-flex flex-column"},D=v((()=>(0,n._)("td",{class:"text-danger fs-6"},"Use Add to assign Model",-1))),E=[D],I={key:2,class:"col"};a["Z"]={setup(e){const a=(0,s.oR)(),l=(0,u.iH)(!1),t=e=>{a.dispatch("sendSocketReq",e)},f=(0,u.iH)(!1),v=(0,u.iH)(!1),D=(0,u.iH)(!1),T=(0,u.iH)([]),U=(0,u.iH)([]),q=(0,n.f3)("manufacturerInfo"),V=(0,n.f3)("GlobalVendorDefinition"),Z=async e=>{try{const a=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(V.value.manufacturerID=null,t({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Manufacturer",queries:[{field:"manufacturerName",op:"sb",value:"^"}],projection:{_id:1,manufacturerName:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),T.value=e.Response.records):e.Type}})):(q.value.selectedManufacturer=T.value.find((e=>a===e.manufacturerName)),V.value.manufacturerID=q.value.selectedManufacturer._id,await O())}catch(a){console.log(a)}},O=async()=>{try{t({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Model",queries:[{field:"manufacturerID",op:"eq_id",value:V.value.manufacturerID}],projection:{_id:1,modelName:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),U.value=e.Response.records,U.value.length<1&&(l.value=!0),U.value.length>0&&(l.value=!1),D.value=!0):e.Type}})}catch(e){console.log(e)}};return(0,n.JJ)("fetchManufacturer",Z),(0,n.JJ)("fetchModel",O),(0,n.bv)((()=>{Z()})),(e,a)=>((0,n.wg)(),(0,n.j4)(i["default"],{sectionTitle:"Manufacturer Information"},{default:(0,n.w5)((()=>[(0,n._)("div",p,[(0,n._)("div",y,[N,(0,n._)("div",_,[(0,n.wy)((0,n._)("input",{class:"form-control",list:"manufacturerOptions",id:"manufacturerList",placeholder:"Search and Select Manufacturer...",autocomplete:"off","onUpdate:modelValue":a[0]||(a[0]=e=>(0,u.SU)(q).selectedManufacturer.manufacturerName=e),onInput:Z},null,544),[[o.nr,(0,u.SU)(q).selectedManufacturer.manufacturerName]])]),(0,n._)("datalist",w,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(T.value,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.index,value:e.manufacturerName},null,8,M)))),128))])]),D.value?((0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",k,[b,f.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(m["default"],{key:0,BtnName:"Add Model",icon:"plus",backgroundColor:"none",class:"text-primary btn-sm fs-6",onClick:a[1]||(a[1]=e=>f.value=!f.value)}))]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.value,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"rounded-3 container pb-1 align-middle",key:e.index,value:e.modelName},[(0,n._)("div",S,[(0,n._)("td",null,[(0,n._)("div",h,[(0,n._)("small",R,(0,c.zw)(e.modelName),1)])])])],8,C)))),128)),l.value?((0,n.wg)(),(0,n.iD)("div",x,E)):(0,n.kq)("",!0)])):(0,n.kq)("",!0)]),v.value?((0,n.wg)(),(0,n.j4)(r["default"],{key:0},{default:(0,n.w5)((()=>[(0,n._)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:a[2]||(a[2]=e=>v.value=!v.value)})])),_:1})):(0,n.kq)("",!0),f.value?((0,n.wg)(),(0,n.j4)(d["default"],{key:1},{default:(0,n.w5)((()=>[(0,n._)("button",{type:"button",class:"btn-close","aria-label":"Close",onClick:a[3]||(a[3]=e=>f.value=!f.value)})])),_:1})):(0,n.kq)("",!0),v.value||f.value?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",I,[(0,n.Wm)(m["default"],{BtnName:"Add",icon:"plus",backgroundColor:"none",onClick:a[4]||(a[4]=()=>{}),class:"text-primary btn-sm"}),(0,n.Wm)(m["default"],{BtnName:"Add Manufacturer",icon:"plus",backgroundColor:"none",class:"text-primary btn-sm fs-6",onClick:a[5]||(a[5]=e=>v.value=!v.value)})]))])),_:1}))}},t()}catch(v){t(v)}}))},8418:function(e,a,l){l.a(e,(async function(e,t){try{var n=l(6252),u=l(9963),o=l(2262),c=l(3907),s=l(1028),r=l(1948),d=l(3432),i=l(7708),m=l(4200),f=e([m]);m=(f.then?(await f)():f)[0];const v={class:"d-flex"},p={class:"col"},y={class:"col-lg-6"},N={class:"col-lg-6"},_={class:"col-lg-6"};a["Z"]={setup(e){const a=(0,c.oR)(),l=(0,n.Fl)((()=>a.state.globalStore.UserInfo.Institute_Info.Code)),t=(0,o.iH)(!1),f=(0,n.f3)("GlobalVendorDefinition"),w=(0,n.f3)("fetchModel"),M=(0,o.iH)({modelName:null,commonName:null,UMDNSCode:null}),g=e=>{a.dispatch("sendSocketReq",e)};async function k(){g({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"CREATE_RECORD",collection:"Model",record:new m.sr({manufacturerID:f.value.manufacturerID,modelName:M.value.modelName,commonName:M.value.commonName,UMDNSCode:M.value.UMDNSCode}).serialize(),Institute_Code:l.value}},callback:e=>{"RESPONSE"===e.Type?(M.value.modelName=null,M.value.commonName=null,M.value.UMDNSCode=null,t.value=!0,setTimeout((()=>{t.value=!1}),3e3),console.log("Response Packet --\x3e",e.Response)):e.Type}}),await w()}return(e,a)=>((0,n.wg)(),(0,n.j4)(d["default"],{sectionTitle:"Add New Model"},{default:(0,n.w5)((()=>[(0,n._)("div",v,[(0,n._)("div",p,[(0,n._)("div",y,[(0,n.Wm)(s["default"],{label:"Model Name",type:"text",id:"modelName",placeholder:"Model Name",modelValue:M.value.modelName,"onUpdate:modelValue":a[0]||(a[0]=e=>M.value.modelName=e)},null,8,["modelValue"])]),(0,n._)("div",N,[(0,n.Wm)(s["default"],{label:"Common Name",type:"text",id:"commonName",placeholder:"Common Number",modelValue:M.value.commonName,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value.commonName=e)},null,8,["modelValue"])]),(0,n._)("div",_,[(0,n.Wm)(s["default"],{label:"UMDNS Code",type:"text",id:"UMDNSCode",placeholder:"Common Number",modelValue:M.value.UMDNSCode,"onUpdate:modelValue":a[2]||(a[2]=e=>M.value.UMDNSCode=e)},null,8,["modelValue"]),(0,n.Wm)(u.uT,{name:"toast"},{default:(0,n.w5)((()=>[t.value?((0,n.wg)(),(0,n.j4)(i["default"],{key:0,message:"Model successfully added "})):(0,n.kq)("",!0)])),_:1})]),(0,n.Wm)(r["default"],{BtnName:"Submit",icon:"plus",backgroundColor:"none",onClick:k,class:"text-primary btn-sm"})]),(0,n.WI)(e.$slots,"default")])])),_:3}))}},t()}catch(v){t(v)}}))},4336:function(e,a,l){l.a(e,(async function(e,t){try{var n=l(6252),u=l(9963),o=l(2262),c=l(3907),s=l(1028),r=l(1948),d=l(7708),i=l(3432),m=l(4200),f=e([m]);m=(f.then?(await f)():f)[0];const v={class:"d-flex"},p={class:"col"},y={class:"col-lg-6"};a["Z"]={setup(e){const a=(0,c.oR)(),l=(0,n.Fl)((()=>a.state.globalStore.UserInfo.Institute_Info.Code)),t=(0,o.iH)({manufacturerName:null}),f=(0,o.iH)(!1),N=(0,n.f3)("fetchManufacturer"),_=e=>{a.dispatch("sendSocketReq",e)};async function w(){_({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"CREATE_RECORD",collection:"Manufacturer",record:new m.F2({manufacturerName:t.value.manufacturerName}).serialize(),Institute_Code:l.value}},callback:e=>{"RESPONSE"===e.Type?(t.value.manufacturerName=null,f.value=!0,setTimeout((()=>{f.value=!1}),3e3),console.log("Response Packet --\x3e",e.Response)):e.Type}}),await N()}return(e,a)=>((0,n.wg)(),(0,n.j4)(i["default"],{sectionTitle:"Add New Manufacturer"},{default:(0,n.w5)((()=>[(0,n._)("div",v,[(0,n._)("div",p,[(0,n._)("div",y,[(0,n.Wm)(s["default"],{label:"Manufacturer Name",type:"text",id:"manufacturerName",placeholder:"Manufacturer Name",modelValue:t.value.manufacturerName,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.manufacturerName=e)},null,8,["modelValue"]),(0,n.Wm)(u.uT,{name:"toast"},{default:(0,n.w5)((()=>[f.value?((0,n.wg)(),(0,n.j4)(d["default"],{key:0,message:"Manufacturer successfully added "})):(0,n.kq)("",!0)])),_:1})]),(0,n.Wm)(r["default"],{BtnName:"Submit",icon:"plus",backgroundColor:"none",onClick:w,class:"text-primary btn-sm"})]),(0,n.WI)(e.$slots,"default")])])),_:3}))}},t()}catch(v){t(v)}}))},7708:function(e,a,l){l.r(a),l.d(a,{default:function(){return d}});var t=l(6252),n=l(3577);const u={class:"align-items-center text-white border-0 p-3 rounded-1",style:{"background-color":"#e3f6f5"},role:"alert","aria-live":"assertive","aria-atomic":"true"},o={class:"d-flex",style:{color:"#298a85"}},c={class:"fsXs"};var s={props:{message:{type:String}},setup(e){return(a,l)=>((0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",u,[(0,t._)("div",o,[(0,t._)("div",c,(0,n.zw)(e.message),1)])])]))}};const r=s;var d=r},2434:function(e,a,l){l.a(e,(async function(e,t){try{l.r(a);var n=l(4186),u=(l(7955),l(3744)),o=e([n]);n=(o.then?(await o)():o)[0];const c=(0,u.Z)(n.Z,[["__scopeId","data-v-4ee9e15f"]]);a["default"]=c,t()}catch(c){t(c)}}))},4741:function(e,a,l){l.a(e,(async function(e,t){try{l.r(a);var n=l(9956),u=(l(5751),l(3744)),o=e([n]);n=(o.then?(await o)():o)[0];const c=(0,u.Z)(n.Z,[["__scopeId","data-v-9691c9b6"]]);a["default"]=c,t()}catch(c){t(c)}}))},8747:function(e,a,l){l.a(e,(async function(e,t){try{l.r(a);var n=l(1311),u=(l(3792),l(3744)),o=e([n]);n=(o.then?(await o)():o)[0];const c=(0,u.Z)(n.Z,[["__scopeId","data-v-fc146930"]]);a["default"]=c,t()}catch(c){t(c)}}))},7955:function(){},5751:function(){},3792:function(){},4186:function(e,a,l){l.a(e,(async function(e,t){try{l.d(a,{Z:function(){return n.Z}});var n=l(1922),u=e([n]);n=(u.then?(await u)():u)[0],t()}catch(o){t(o)}}))},9956:function(e,a,l){l.a(e,(async function(e,t){try{l.d(a,{Z:function(){return n.Z}});var n=l(8418),u=e([n]);n=(u.then?(await u)():u)[0],t()}catch(o){t(o)}}))},1311:function(e,a,l){l.a(e,(async function(e,t){try{l.d(a,{Z:function(){return n.Z}});var n=l(4336),u=e([n]);n=(u.then?(await u)():u)[0],t()}catch(o){t(o)}}))}}]);
//# sourceMappingURL=2434.084e451f.js.map