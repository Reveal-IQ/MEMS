"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[8675,1659],{8675:function(l,e,a){a.r(e),a.d(e,{default:function(){return E}});var s=a(6252),t=a(3577),c=a(9963),o=a(2262),n=a(1659),i=a(3907);const r={class:"container-fluid"},d={class:"d-flex gap-3 p-2"},u=(0,s.uE)('<div class="d-flex flex-column p-2 mt-4"><span class="title text-dark fw-normal fs-3">Annual Medical Devices Inflow</span><nav class="d-flex gap-3 p-1"><small class="text-secondary" style="cursor:pointer;">Print</small><small class="text-secondary" style="cursor:pointer;">CSV Export</small><small class="text-secondary" style="cursor:pointer;">Download</small></nav></div><div class="p-2 mt-4"><small class="text-secondary">Type and count of devices added to inventory for the selected year. </small></div>',2),v={class:"row mt-4"},p={class:"col-lg-4"},m={class:"form-floating"},f=["onChange"],_=["value"],y=(0,s._)("label",{for:"yearId"},"Select Year",-1),w={key:0,class:"mt-2 px-3"},g={class:"mt-4 p-2"},D={class:"fw-bold fs-4"},x={class:"row"},b={class:"mt-2 table-responsive"},h={class:"table table-responsive table-borderless mb-2"},S=(0,s._)("thead",null,[(0,s._)("tr",{style:{"background-color":"#f5f6f6"}},[(0,s._)("th",{scope:"col",width:"20%"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Device Code")]),(0,s._)("th",{scope:"col",width:"50%"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Device Description")]),(0,s._)("th",{scope:"col"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Accepted Devices")]),(0,s._)("th",{scope:"col"},[(0,s._)("small",{class:"text-secondary fw-normal"},"Total Value")])])],-1),k={style:{"background-color":"#f5f6f6"}};var T={props:["facilityName","facilityID"],emits:["updatePage"],setup(l,{emit:e}){const a=l,T=(0,i.oR)(),C=l=>{T.dispatch("sendSocketReq",l)},E=(0,o.iH)([]),R=(0,o.iH)(null),z=(0,o.iH)((new Date).toLocaleDateString()),V=()=>{const l=1990,e=(new Date).getFullYear();for(let a=e;a>=l;a--)E.value=[...E.value,a]},H=(0,o.iH)([]),M=(0,o.iH)(0),P=(0,o.iH)(0),I=async()=>{console.log("calling function");try{C({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"GET_REPORTS",reportType:"inflow",reportSpecs:{year:R.value}}},callback:l=>{if("RESPONSE"===l.Type){console.log("Response Packet --\x3e",l.Response),H.value=l.Response.records,M.value=0,P.value=0;var e=H.value;e.forEach((l=>{P.value+=l.totalCost,M.value+=l.acceptedDevices}))}else l.Type}})}catch(l){console.log(l)}},N=async(l,a)=>{e("updatePage",l,a)};return(0,s.bv)((()=>{V()})),(l,e)=>((0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("nav",d,[(0,s._)("small",{class:"text-secondary",style:{cursor:"pointer"},onClick:e[0]||(e[0]=l=>N("reportsList",{facilityName:a.facilityName}))},"Back")]),u,(0,s._)("div",v,[(0,s._)("div",p,[(0,s._)("div",m,[(0,s.wy)((0,s._)("select",{name:"year",id:"yearId","onUpdate:modelValue":e[1]||(e[1]=l=>R.value=l),class:"form-select",onChange:()=>I()},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(E.value,((l,e)=>((0,s.wg)(),(0,s.iD)("option",{key:e,value:l},(0,t.zw)(l),9,_)))),128))],40,f),[[c.bM,R.value]]),y])]),R.value?((0,s.wg)(),(0,s.iD)("div",w,[(0,s._)("small",null,"Report generated for accepted assets from 1/1/"+(0,t.zw)(R.value)+" to "+(0,t.zw)(z.value),1)])):(0,s.kq)("",!0)]),(0,s._)("div",g,[(0,s._)("span",D,(0,t.zw)(a.facilityName),1)]),(0,s._)("div",x,[(0,s.Wm)((0,o.SU)(n["default"]),{cardTitle:"Overall Accepted Devices",statisticsValue:M.value,class:"fs-4 fw-normal"},null,8,["statisticsValue"]),(0,s.Wm)((0,o.SU)(n["default"]),{cardTitle:"Overall Value",statisticsValue:"$"+P.value,class:"fs-4 fw-normal"},null,8,["statisticsValue"])]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(H.value,(l=>((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("table",h,[S,(0,s._)("tbody",null,[(0,s._)("tr",k,[(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.UMDNSCode),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.description),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)(l.acceptedDevices),1)]),(0,s._)("td",null,[(0,s._)("small",null,(0,t.zw)("$"+l.totalCost),1)])])])])])))),256))]))}};const C=T;var E=C},1659:function(l,e,a){a.r(e),a.d(e,{default:function(){return m}});var s=a(6252),t=a(3577);const c={class:"col-xl-2 col-lg-4 col-md-4 col-sm-6 col-6"},o={class:""},n={class:"p-1"},i={class:"mb-3"},r={class:"mb-0"},d={class:"row align-items-center d-flex"},u={class:"col-8"};var v={props:{cardTitle:{type:String,default:"Card Title"},statisticsValue:{type:String,default:"15,000"},class:String},setup(l){const e=l;return(a,v)=>((0,s.wg)(),(0,s.iD)("div",c,[(0,s._)("div",o,[(0,s._)("div",n,[(0,s._)("div",i,[(0,s._)("small",r,(0,t.zw)(e.cardTitle),1)]),(0,s._)("div",d,[(0,s._)("div",u,[(0,s._)("h2",{class:(0,t.C_)(["d-flex align-items-center mb-0",l.class])},(0,t.zw)(e.statisticsValue),3)])])])])]))}};const p=v;var m=p}}]);
//# sourceMappingURL=8675.c337c8a0.js.map