"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[7128,1948,2990],{7128:function(e,s,a){a.r(s),a.d(s,{default:function(){return X}});var t=a(6252),l=a(3577),n=a(2262),o=a(3907),d=a(3538),c=a(1948);const r=e=>((0,t.dD)("data-v-4d2f371e"),e=e(),(0,t.Cn)(),e),i={class:"container-fluid"},u={class:"d-flex gap-3 p-2"},m={class:"d-flex flex-column p-2 mt-4"},f={class:"title text-dark fw-normal fs-1"},p={class:"sub-title fs-6 fw-normal"},v={class:"mt-4 rounded p-4"},_=(0,t.uE)('<span class="card-title fw-normal fs-4" data-v-4d2f371e>Asset Inventory</span><p class="card-text" data-v-4d2f371e><small class="text-muted" data-v-4d2f371e>List of all the asset associated models</small></p><div class="mb-3" data-v-4d2f371e><div class="d-flex gap-5" data-v-4d2f371e><td data-v-4d2f371e><div class="d-flex flex-column" data-v-4d2f371e><small class="text-secondary fsXs" data-v-4d2f371e>Quantity</small><small class="fw-normal" data-v-4d2f371e>20</small></div></td><td data-v-4d2f371e><div class="d-flex flex-column" data-v-4d2f371e><small class="text-secondary fsXs" data-v-4d2f371e>Active</small><small class="fw-normal" data-v-4d2f371e>18</small></div></td><td data-v-4d2f371e><div class="d-flex flex-column" data-v-4d2f371e><small class="text-secondary fsXs" data-v-4d2f371e>In-Service</small><small data-v-4d2f371e>4</small></div></td></div></div>',3),g={key:0},x=["onClick"],y={class:"d-flex position-relative"},w=r((()=>(0,t._)("span",{class:"position-absolute border border-light top-50 start-0 p-2 translate-middle rounded-circle bg-success"},null,-1))),b={class:"d-flex flex-column ms-4"},k=r((()=>(0,t._)("small",{class:"text-secondary fsXs"},"Equipment Number",-1))),C={class:"fw-normal"},N={class:"d-flex flex-column"},D=r((()=>(0,t._)("small",{class:"text-secondary fsXs"},"Model",-1))),I={class:"fw-normal"},A={class:"d-flex flex-column"},S=r((()=>(0,t._)("small",{class:"text-secondary fsXs"},"Manufacturer",-1))),F={class:"d-flex flex-column"},h=r((()=>(0,t._)("small",{class:"text-secondary fsXs"},"Status",-1))),M=r((()=>(0,t._)("td",null,[(0,t._)("div",{class:"d-flex flex-column"},[(0,t._)("small",{class:"text-secondary fsXs"},"Vendor"),(0,t._)("small",null,"- - -")])],-1)));var z={props:["modelName","modelID","manufacturerID","commonName","manufacturerName"],emits:["updatePage"],setup(e,{emit:s}){const a=e,r=(0,o.oR)(),z=e=>{r.dispatch("sendSocketReq",e)},j=(0,n.iH)([]),R=async()=>{try{z({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Asset",queries:[{field:"modelID",op:"eq_id",value:a.modelID}],lookups:[{localField:"manufacturerID",collection:"Manufacturer",foreignField:"_id",as:"Manufacturer"},{localField:"modelID",collection:"Model",foreignField:"_id",as:"Model"},{localField:"parentAssetID",collection:"Asset",foreignField:"_id",as:"ParentAsset"}],projection:{_id:1,assetCode:1,status:1,parentAssetID:1,manufacturerName:"$Manufacturer.manufacturerName",modelName:"$Model.modelName",parentAsset:"$ParentAsset.assetCode",parentAssetName:"$ParentAsset.modelName"}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),j.value=e.Response.records):e.Type}})}catch(e){console.log(e)}},X=async(e,a)=>{s("updatePage",e,a)};return(0,t.bv)((()=>{R()})),(e,s)=>((0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("nav",u,[(0,t._)("small",{class:"text-secondary",style:{cursor:"pointer"},onClick:s[0]||(s[0]=e=>X("dashboard"))},"Back")]),(0,t._)("div",m,[(0,t._)("span",f,(0,l.zw)(a.modelName),1),(0,t._)("span",p,(0,l.zw)(a.manufacturerName)+" | "+(0,l.zw)(a.commonName),1)]),(0,t._)("div",v,[_,0==j.value?((0,t.wg)(),(0,t.iD)("div",g,[(0,t.Wm)(d["default"],{message:"Assets have not been assigned",message2:"Use New Asset to create and assign a record to this Model.",icon:"exclamation-triangle",backgroundColor:"#FFF0DA"},{default:(0,t.w5)((()=>[(0,t.Wm)(c["default"],{BtnName:"New Asset",backgroundColor:"#FFFFFF",class:"text-success btn-sm",onClick:s[1]||(s[1]=e=>X("assetInfo"))})])),_:1})])):((0,t.wg)(!0),(0,t.iD)(t.HY,{key:1},(0,t.Ko)(j.value,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e,class:"mb-2 rounded container py-2 align-middle",style:{"background-color":"#f5f6f6"}},[(0,t._)("div",{class:"d-flex justify-content-between",style:{cursor:"pointer"},onClick:s=>X("dashboardAssetDetail",{assetCode:e.assetCode,status:e.status,parentAssetID:e.parentAssetID})},[(0,t._)("td",y,[w,(0,t._)("div",b,[k,(0,t._)("small",C,(0,l.zw)(e.assetCode),1)])]),(0,t._)("td",null,[(0,t._)("div",N,[D,(0,t._)("small",I,(0,l.zw)(e.modelName),1)])]),(0,t._)("td",null,[(0,t._)("div",A,[S,(0,t._)("small",null,(0,l.zw)(e.manufacturerName),1)])]),(0,t._)("td",null,[(0,t._)("div",F,[h,(0,t._)("small",null,(0,l.zw)(e.status),1)])]),M],8,x)])))),128))])]))}},j=a(3744);const R=(0,j.Z)(z,[["__scopeId","data-v-4d2f371e"]]);var X=R},1948:function(e,s,a){a.r(s),a.d(s,{default:function(){return i}});var t=a(6252),l=a(3577),n=a(2262);const o={class:"fsXs"};var d={props:{BtnName:{type:String,default:"Button Name"},class:{type:String,default:""},showLoader:{type:Boolean,default:!1},backgroundColor:{type:String,default:"#586974"},icon:null},emits:[""],setup(e,{emit:s}){const a=e;let d=a.icon;return(s,a)=>{const c=(0,t.up)("font-awesome-icon");return(0,t.wg)(),(0,t.iD)("button",{type:"button",class:(0,l.C_)(["btn buttonBackground d-inline-flex align-items-center fs-6 rounded",e.class]),style:(0,l.j5)("--color:"+e.backgroundColor)},[(0,t.Wm)(c,{icon:(0,n.SU)(d),size:"1x",class:"me-2"},null,8,["icon"]),(0,t._)("span",o,(0,l.zw)(e.BtnName),1),(0,t.WI)(s.$slots,"default")],6)}}},c=a(3744);const r=(0,c.Z)(d,[["__scopeId","data-v-1a26e9bf"]]);var i=r},3538:function(e,s,a){a.r(s),a.d(s,{default:function(){return v}});var t=a(6252),l=a(3577),n=a(2262);const o={class:"row align-items-center my-2"},d={class:"col-sm-2 d-flex justify-content-md-center justify-content-center"},c={class:"col-sm-7 col d-flex flex-column justify-content-sm-start justify-content-center my-4 text-center text-sm-start text-secondary"},r={class:"fs-6"},i={class:"fsXs fw-light"},u={class:"col-sm-3 d-flex justify-content-center justify-content-lg-center"};var m={props:{message:{type:String,default:"message here"},message2:{type:String,default:"message here"},class:{type:String,default:""},backgroundColor:{type:String,default:"#586974"},icon:null},setup(e){const s=e;let a=s.icon;return(e,m)=>{const f=(0,t.up)("font-awesome-icon");return(0,t.wg)(),(0,t.iD)("section",{class:(0,l.C_)(["col-lg-6 col-md-12 col-sm-12 col-12 border-1 toastBackground rounded-3 border border-warning",s.class]),style:(0,l.j5)("--color:"+s.backgroundColor)},[(0,t._)("div",o,[(0,t._)("div",d,[(0,t.Wm)(f,{class:"iconColor text-warning text-sm-start text-center",icon:(0,n.SU)(a),size:"2x"},null,8,["icon"])]),(0,t._)("div",c,[(0,t._)("span",r,(0,l.zw)(s.message),1),(0,t._)("span",i,(0,l.zw)(s.message2),1)]),(0,t._)("div",u,[(0,t.WI)(e.$slots,"default")])])],6)}}},f=a(3744);const p=(0,f.Z)(m,[["__scopeId","data-v-84f601c2"]]);var v=p}}]);
//# sourceMappingURL=7128.0907cac6.js.map