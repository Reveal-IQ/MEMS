"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[5674,1028,9631],{5674:function(e,t,l){l.r(t),l.d(t,{default:function(){return I}});var a=l(6252),i=l(2262),n=l(9963),o=l(3907),c=l(3432),s=l(1028);const r=e=>((0,a.dD)("data-v-1a3795b0"),e=e(),(0,a.Cn)(),e),u={class:"col-lg-6 mb-3"},d=r((()=>(0,a._)("label",{for:"facilityList",class:"form-label"},"Facility",-1))),p={id:"facilityListOptions"},m=["value"],f={class:"col-lg-6 mb-3"},y=r((()=>(0,a._)("label",{for:"departmentList",class:"form-label"},"Department",-1))),v={id:"departmentListOptions"},b=["value"],D={class:"col-lg-6 mb-3"};var _={setup(e){const t=(0,o.oR)(),l=e=>{t.dispatch("sendSocketReq",e)},r=(0,i.iH)(null),_=(0,i.iH)(null),S=(0,a.f3)("AssetLocation"),g=(0,a.f3)("GlobalAssetInformation"),I=async e=>{try{const t=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(g.value.facilityID=null,l({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Facility",queries:[{field:"facilityName",op:"sb",value:"^"}],projection:{_id:1,facilityName:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),r.value=e.Response.records):e.Type}})):(S.value.selectedFacility=r.value.find((e=>t===e.facilityName)),g.value.facilityID=S.value.selectedFacility._id,await N())}catch(t){console.log(t)}},N=async e=>{try{const t=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(g.value.departmentID=null,l({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Department",queries:[{field:"facilityID",op:"sb",value:g.value.facilityID}],projection:{_id:1,facilityID:1,departmentName:1,shortName:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),_.value=e.Response.records):e.Type}})):(S.value.selectedDepartment=_.value.find((e=>t===e.departmentName)),g.value.departmentID=S.value.selectedDepartment.shortName)}catch(t){console.log(t)}};return(0,a.bv)((()=>{I()})),(e,t)=>((0,a.wg)(),(0,a.j4)(c["default"],{sectionTitle:"Asset Location"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[d,(0,a.wy)((0,a._)("input",{class:"form-control",list:"facilityListOptions",id:"facilityList",placeholder:"Select facility","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.SU)(S).selectedFacility.facilityName=e),onInput:I,autocomplete:"off"},null,544),[[n.nr,(0,i.SU)(S).selectedFacility.facilityName]]),(0,a._)("datalist",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.value,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.index,value:e.facilityName},null,8,m)))),128))])]),(0,a._)("div",f,[y,(0,a.wy)((0,a._)("input",{class:"form-control",list:"departmentListOptions",id:"departmentList",placeholder:"Select department","aria-label":"Default select example","onUpdate:modelValue":t[1]||(t[1]=e=>(0,i.SU)(S).selectedDepartment.departmentName=e),onInput:N,autocomplete:"off"},null,544),[[n.nr,(0,i.SU)(S).selectedDepartment.departmentName]]),(0,a._)("datalist",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(_.value,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.index,value:e.departmentName},null,8,b)))),128))])]),(0,a._)("div",D,[(0,a.Wm)(s["default"],{class:"form-control",id:"locationName",label:"Location",placeholder:"Enter Location","aria-label":"Default select example",modelValue:(0,i.SU)(S).locationName,"onUpdate:modelValue":t[2]||(t[2]=e=>(0,i.SU)(S).locationName=e),autocomplete:"off"},null,8,["modelValue"])])])),_:1}))}},S=l(3744);const g=(0,S.Z)(_,[["__scopeId","data-v-1a3795b0"]]);var I=g},1028:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=l(6252),i=l(3577);const n=["for"],o={class:"input-group mb-3"},c=["placeholder","id","type","value"];var s={props:{label:{type:String,default:"label"},placeholder:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"text"},modelValue:{type:[String,Number],default:""}},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[e.label?((0,a.wg)(),(0,a.iD)("label",{key:0,for:e.id,class:"form-label"},(0,i.zw)(e.label),9,n)):(0,a.kq)("",!0),(0,a._)("div",o,[(0,a._)("input",(0,a.dG)(t.$attrs,{placeholder:e.placeholder,id:e.id,type:e.type,class:"form-control",value:e.modelValue,onInput:l[0]||(l[0]=e=>t.$emit("update:modelValue",e.target.value))}),null,16,c)])],64))}};const r=s;var u=r},3432:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=l(6252),i=l(3577);const n={class:"section p-4 rounded shadow-sm"},o={class:"pb-3 fsXl section-title"};var c={props:{sectionTitle:{type:String,default:"Section Title"}},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("section",n,[(0,a._)("h5",o,(0,i.zw)(e.sectionTitle),1),(0,a.WI)(t.$slots,"default")]))}},s=l(3744);const r=(0,s.Z)(c,[["__scopeId","data-v-cfc2dae0"]]);var u=r}}]);
//# sourceMappingURL=5674.32e0d8cb.js.map