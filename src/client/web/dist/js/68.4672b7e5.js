"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[68,1028,6206,6621],{68:function(e,l,t){t.r(l),t.d(l,{default:function(){return L}});var a=t(6252),i=t(2262),n=t(9963),o=t(3907),s=(t(1028),t(6206)),c=t(6621);const u=e=>((0,a.dD)("data-v-06900024"),e=e(),(0,a.Cn)(),e),r={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-3 g-3"},d={class:"col-lg-6 mb-3"},p=u((()=>(0,a._)("label",{for:"facilityList",class:"form-label"},"Facility",-1))),g={id:"facilityListOptions"},f=["value"],m={class:"col-lg-6 mb-3"},y=u((()=>(0,a._)("label",{for:"regionList",class:"form-label"},"Region",-1))),v={id:"regionListOptions"},w=["value"],b={class:"col-lg-6 mb-3"},_=u((()=>(0,a._)("label",{for:"districtList",class:"form-label"},"District",-1))),h={id:"rdistrictListOptions"},D=["value"],S={class:"col-lg-6 mb-3"},T=u((()=>(0,a._)("label",{for:"departmentList",class:"form-label"},"Department",-1))),k=u((()=>(0,a._)("option",{selected:""},"Select Department",-1))),C=[k],I={class:"col-lg-12 col-md-12"};var R={setup(e){const l=(0,o.oR)(),t=e=>{l.dispatch("sendSocketReq",e)},u=(0,i.iH)(null),k=(0,i.iH)(null),R=(0,i.iH)(null),U=(0,a.f3)("EquipmentLocation"),E=(0,a.f3)("Global_Asset_Information"),L=(0,a.f3)("departmentId"),x=async e=>{try{const l=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(E.value.facilityId=null,t({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Facility",queries:[{field:"facility_name",op:"sb",value:"^"}],projection:{_id:1,facility_name:1,country:1,area:1,city:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),u.value=e.Response.records):e.Type}})):(U.value.selectedFacility=u.value.find((e=>l===e.facility_name)),E.value.facilityId=U.value.selectedFacility._id,await H())}catch(l){console.log(l)}},H=async e=>{try{const l=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(E.value.region=null,t({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Facility",queries:[{field:"facility_name",op:"sb",value:E.value.facilityId}],projection:{_id:0,area:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),k.value=e.Response.records):e.Type}})):(U.value.selectedRegion=k.value.find((e=>l===e.area)),E.value.region=U.value.selectedRegion.area)}catch(l){console.log(l)}};return(0,a.bv)((()=>{x()})),(e,l)=>((0,a.wg)(),(0,a.j4)(s["default"],{sectionTitle:"Equipment Location"},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a._)("div",d,[p,(0,a.wy)((0,a._)("input",{class:"form-control",list:"facilityListOptions",id:"facilityList",placeholder:"Select facility","aria-label":"Default select example","onUpdate:modelValue":l[0]||(l[0]=e=>(0,i.SU)(U).selectedFacility.facility_name=e),onInput:x,autocomplete:"off"},null,544),[[n.nr,(0,i.SU)(U).selectedFacility.facility_name]]),(0,a._)("datalist",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.value,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.index,value:e.facility_name},null,8,f)))),128))])]),(0,a._)("div",m,[y,(0,a.wy)((0,a._)("input",{class:"form-control",list:"regionListOptions",id:"regionList",placeholder:"Select region","aria-label":"Default select example","onUpdate:modelValue":l[1]||(l[1]=e=>(0,i.SU)(U).selectedRegion.area=e),onInput:H,autocomplete:"off"},null,544),[[n.nr,(0,i.SU)(U).selectedRegion.area]]),(0,a._)("datalist",v,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.value,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.index,value:e.area},null,8,w)))),128))])]),(0,a._)("div",b,[_,(0,a.wy)((0,a._)("input",{class:"form-control",list:"districtListOptions",id:"districtList",placeholder:"Select district","aria-label":"Default select example","onUpdate:modelValue":l[2]||(l[2]=e=>(0,i.SU)(U).selectedDistrict.city=e),onInput:l[3]||(l[3]=(...l)=>e.fetchDistrict&&e.fetchDistrict(...l)),autocomplete:"off"},null,544),[[n.nr,(0,i.SU)(U).selectedDistrict.city]]),(0,a._)("datalist",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.value,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.index,value:e.city},null,8,D)))),128))])]),(0,a._)("div",S,[T,(0,a.wy)((0,a._)("select",{id:"departmentList",class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[4]||(l[4]=e=>(0,i.dq)(L)?L.value=e:null)},C,512),[[n.bM,(0,i.SU)(L)]])]),(0,a._)("div",I,[(0,a.Wm)(c["default"],{modelValue:(0,i.SU)(U).location,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,i.SU)(U).location=e),label:"Location",customDelimiter:",",placeholder:"Enter Location Tag"},null,8,["modelValue"])])])])),_:1}))}},U=t(3744);const E=(0,U.Z)(R,[["__scopeId","data-v-06900024"]]);var L=E},1028:function(e,l,t){t.r(l),t.d(l,{default:function(){return r}});var a=t(6252),i=t(3577);const n=["for"],o={class:"input-group mb-3"},s=["placeholder","id","type","value"];var c={props:{label:{type:String,default:"label"},placeholder:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"text"},modelValue:{type:[String,Number],default:""}},setup(e){return(l,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[e.label?((0,a.wg)(),(0,a.iD)("label",{key:0,for:e.id,class:"form-label"},(0,i.zw)(e.label),9,n)):(0,a.kq)("",!0),(0,a._)("div",o,[(0,a._)("input",(0,a.dG)(l.$attrs,{placeholder:e.placeholder,id:e.id,type:e.type,class:"form-control",value:e.modelValue,onInput:t[0]||(t[0]=e=>l.$emit("update:modelValue",e.target.value))}),null,16,s)])],64))}};const u=c;var r=u},6206:function(e,l,t){t.r(l),t.d(l,{default:function(){return r}});var a=t(6252),i=t(3577);const n={class:"section p-4 rounded"},o={class:"pb-3 fsXl section-title"};var s={props:{sectionTitle:{type:String,default:"Section Title"}},setup(e){return(l,t)=>((0,a.wg)(),(0,a.iD)("section",n,[(0,a._)("h5",o,(0,i.zw)(e.sectionTitle),1),(0,a.WI)(l.$slots,"default")]))}},c=t(3744);const u=(0,c.Z)(s,[["__scopeId","data-v-9468e16e"]]);var r=u},6621:function(e,l,t){t.r(l),t.d(l,{default:function(){return h}});var a=t(6252),i=t(3577),n=t(9963);const o=["for"],s=["list","placeholder"],c=["id"],u=["value"],r={class:"tags",ref:"tagsUl"},d={class:"badge bg-secondary rounded-pill"},p=["onClick"],g={key:1,class:"count"},f=(0,a.Uk)(" tags "),m={class:"err"};function y(e,l,t,y,v,w){return(0,a.wg)(),(0,a.iD)(a.HY,null,[t.label?((0,a.wg)(),(0,a.iD)("label",{key:0,for:y.id,class:"form-label"},(0,i.zw)(t.label),9,o)):(0,a.kq)("",!0),(0,a._)("div",{class:(0,i.C_)(["tag-input",{"with-count":t.showCount,duplicate:y.noMatchingTag}])},[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>y.newTag=e),type:"text",list:y.id,autocomplete:"off",onKeydown:[l[1]||(l[1]=(0,n.D2)((0,n.iM)((e=>y.addTag(y.newTag)),["prevent"]),["enter"])),l[2]||(l[2]=(0,n.D2)((0,n.iM)((e=>y.addTag(y.newTag)),["prevent"]),["tab"])),l[3]||(l[3]=(0,n.D2)((e=>y.newTag.length||y.removeTag(y.tags.length-1)),["delete"]))],onInput:l[4]||(l[4]=e=>y.addTagIfDelem(y.newTag)),style:(0,i.j5)({"padding-left":`${y.paddingLeft}px`}),placeholder:t.placeholder},null,44,s),[[n.nr,y.newTag]]),t.options?((0,a.wg)(),(0,a.iD)("datalist",{key:0,id:y.id},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.availableOptions,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e,value:e},(0,i.zw)(e),9,u)))),128))],8,c)):(0,a.kq)("",!0),(0,a._)("ul",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.tags,((e,l)=>((0,a.wg)(),(0,a.iD)("li",{key:e,class:(0,i.C_)({duplicate:e===y.duplicate,tag:0==y.tagsClass.length,[y.tagsClass]:!0})},[(0,a._)("span",d,[(0,a.Uk)((0,i.zw)(e)+" ",1),(0,a._)("button",{type:"button",class:"btn-close btn-close-white ms-2",onClick:e=>y.removeTag(l),"aria-label":"Close"},null,8,p)])],2)))),128))],512),t.showCount?((0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("span",null,(0,i.zw)(y.tags.length),1),f])):(0,a.kq)("",!0)],2),(0,a.wy)((0,a._)("small",m,"Custom tags not allowed",512),[[n.F8,y.noMatchingTag]])],64)}var v=t(2262),w={name:"TagInput",props:{name:{type:String,default:""},label:{type:String,default:""},placeholder:{type:String,default:"Enter a tag"},modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},allowCustom:{type:Boolean,default:!0},showCount:{type:Boolean,default:!1},tagTextColor:{type:String,default:"white"},tagBgColor:{type:String,default:"rgb(250, 104, 104)"},tagClass:{type:String,default:""},customDelimiter:{type:[String,Array],default:()=>[],validator:e=>{if("string"==typeof e)return 1==e.length;for(let l=0;l<e.length;l++)if("string"!=typeof e[l]||1!=e[l].length)return!1;return!0}}},setup(e,{emit:l}){const t=(0,v.iH)(e.modelValue),i=(0,v.iH)(e.tagClass),n=(0,v.iH)(""),o=Math.random().toString(36).substring(7),s=[...new Set(("string"==typeof e.customDelimiter?[e.customDelimiter]:e.customDelimiter).filter((e=>1==e.length)))],c=(0,v.iH)(null),u=e=>{c.value=e,setTimeout((()=>c.value=null),1e3),n.value=""},r=(0,v.iH)(!1);function d(){r.value=!0,setTimeout((()=>r.value=!1),500);let e=n.value;s.includes(e.charAt(e.length-1))&&(n.value=e.substr(0,e.length-1))}const p=l=>{l=l.trim(),l&&(e.allowCustom||e.options.includes(l)?t.value.includes(l)?u(l):(t.value.push(l),n.value=""):d())},g=e=>{s&&0!=s.length&&s.includes(e.charAt(e.length-1))&&p(e.substr(0,e.length-1))},f=e=>{t.value.splice(e,1)},m=(0,v.iH)(10),y=(0,v.iH)(null),w=()=>{const e=15;m.value=y.value.clientWidth+e,y.value.scrollTo(y.value.scrollWidth,0),l("update:modelValue",t.value)};(0,a.YP)(t,(()=>(0,a.Y3)(w)),{deep:!0}),(0,a.bv)(w);const b=(0,a.Fl)((()=>!!e.options&&e.options.filter((e=>!t.value.includes(e)))));return{tags:t,tagsClass:i,newTag:n,addTag:p,addTagIfDelem:g,removeTag:f,paddingLeft:m,tagsUl:y,availableOptions:b,id:o,duplicate:c,noMatchingTag:r}}},b=t(3744);const _=(0,b.Z)(w,[["render",y],["__scopeId","data-v-095692d7"]]);var h=_}}]);
//# sourceMappingURL=68.4672b7e5.js.map