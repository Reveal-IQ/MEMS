{"version":3,"file":"js/4346.2f6db554.js","mappings":"ykBAwDA,MAAMA,GAAQC,EAAAA,EAAAA,MACRC,EAAiBC,IACrBH,EAAMI,SAAS,gBAAiBD,IAG5BE,GAAwBC,EAAAA,EAAAA,IAAO,yBAC/BC,GAA8BD,EAAAA,EAAAA,IAAO,+BAErCE,GAAeC,EAAAA,EAAAA,IAAI,MAEnBC,EAAgBC,MAAAA,IACpB,IACE,MAAMC,EAAmBC,EAAQA,EAAMC,OAAOC,MAAQ,IAEpDF,GACGA,aAAiBG,YACE,0BAApBH,EAAMI,WAWRV,EAA4BQ,MAAMG,WAAa,KAE/ChB,EAAc,CACZiB,KAAM,CACJC,OAAQ,IACRC,KAAM,UACNC,QAAS,CACPC,OAAQ,OACRC,YAAa,QACbC,IAAK,cACLC,cAAc,EACdC,SAAU,IACVC,KAAM,CACJC,WAAY,WACZC,QAAS,CACP,CACEC,MAAO,eACPC,GAAI,KACJjB,MAAO,MAGXkB,WAAY,CACVC,IAAK,EACLC,aAAc,MAKtBC,SAAWC,IACQ,aAAbA,EAAIhB,MAENiB,QAAQC,IAAI,yBAAuBF,EAAIG,UACvChC,EAAaO,MAAQsB,EAAIG,SAASC,SACzBJ,EAAIhB,UA1CnBhB,EAAsBU,MAAMH,iBAAmBJ,EAAaO,MAAMa,MAC/Dc,GACQ9B,IAAqB8B,EAASP,eAGzC5B,EAA4BQ,MAAMG,WAChCb,EAAsBU,MAAMH,iBAAiBsB,UACzCS,mBA8CR,MAAOC,GACPN,QAAQC,IAAIK,K,OAGhBC,EAAAA,EAAAA,KAAU,KACRnC,O,4oCC9HF,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,4vBCLA,MAAMA,EAAc,EAEpB,S,+XCCA,MAAMA,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-MODEL/MODEL-ModelDescription.vue","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-MODEL/MODEL-ModelDescription.vue?c5a9","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-Input.vue","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-Section.vue"],"sourcesContent":["<template>\r\n  <Section sectionTitle=\"Department Description\">\r\n    <div class=\"row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2 g-3\">\r\n      <!-- Department Name -->\r\n      <div class=\"col-lg-6\">\r\n        <Input\r\n          label=\"Department Name\"\r\n          type=\"text\"\r\n          id=\"departmentName\"\r\n          placeholder=\"Department Name\"\r\n          v-model=\"DepartmentDescription.departmentName\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Department Number -->\r\n      <div class=\"col-lg-6\">\r\n        <Input\r\n          label=\"Short Name\"\r\n          type=\"text\"\r\n          id=\"shortName\"\r\n          placeholder=\"Short Name\"\r\n          v-model=\"DepartmentDescription.shortName\"\r\n        />\r\n      </div>\r\n\r\n      <!-- Facility -->\r\n      <div class=\"col-lg-6 mb-3\">\r\n        <label for=\"manufacturerList\" class=\"form-label\">Facility</label>\r\n        <input\r\n          class=\"form-control\"\r\n          list=\"manufacturerListOptions\"\r\n          id=\"manufacturerList\"\r\n          placeholder=\"Select Manufacturer\"\r\n          aria-label=\"Default select example\"\r\n          v-model=\"DepartmentDescription.selectedFacility.facilityName\"\r\n          @input=\"fetchFacility\"\r\n          autocomplete=\"off\"\r\n        />\r\n        <datalist id=\"manufacturerListOptions\">\r\n          <option\r\n            v-for=\"facility in facilityList\"\r\n            :key=\"facility.index\"\r\n            :value=\"facility.facilityName\"\r\n          ></option>\r\n        </datalist>\r\n      </div>\r\n    </div>\r\n  </Section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, inject, onMounted } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport Input from \"../BIOMD-UI/UI-Input.vue\";\r\nimport Section from \"../BIOMD-UI/UI-Section.vue\";\r\n\r\nconst store = useStore();\r\nconst sendSocketReq = (request) => {\r\n  store.dispatch(\"sendSocketReq\", request);\r\n};\r\n\r\nconst DepartmentDescription = inject(\"DepartmentDescription\");\r\nconst GlobalDepartmentInformation = inject(\"GlobalDepartmentInformation\");\r\n\r\nconst facilityList = ref(null);\r\n\r\nconst fetchFacility = async (event) => {\r\n  try {\r\n    const selectedFacility = event ? event.target.value : \"\";\r\n    if (\r\n      event &&\r\n      (!(event instanceof InputEvent) ||\r\n        event.inputType === \"insertReplacementText\")\r\n    ) {\r\n      DepartmentDescription.value.selectedFacility = facilityList.value.find(\r\n        (facility) => {\r\n          return selectedFacility === facility.facilityName;\r\n        }\r\n      );\r\n      GlobalDepartmentInformation.value.facilityID =\r\n        DepartmentDescription.value.selectedFacility._id;\r\n      await fetchDepartment();\r\n    } else {\r\n      GlobalDepartmentInformation.value.facilityID = null;\r\n\r\n      sendSocketReq({\r\n        data: {\r\n          Expiry: 20000,\r\n          Type: \"REQUEST\",\r\n          Request: {\r\n            Module: \"MEMS\",\r\n            ServiceCode: \"BIOMD\",\r\n            API: \"FIND_RECORD\",\r\n            return_array: true,\r\n            max_list: 100,\r\n            find: {\r\n              collection: \"Facility\",\r\n              queries: [\r\n                {\r\n                  field: \"facilityName\",\r\n                  op: \"sb\",\r\n                  value: \"^\",\r\n                },\r\n              ],\r\n              projection: {\r\n                _id: 1,\r\n                facilityName: 1,\r\n              },\r\n            },\r\n          },\r\n        },\r\n        callback: (res) => {\r\n          if (res.Type === \"RESPONSE\") {\r\n            // Console the Response Packet\r\n            console.log(\"Response Packet -->\", res.Response);\r\n            facilityList.value = res.Response.records;\r\n          } else if (res.Type === \"ERROR\") {\r\n            // Error response received during fetching\r\n            Type: \"ERROR\";\r\n            Response: {\r\n              Error_Code: \"API-CREATE_RECORD-E001\";\r\n              Error_Msg: \"CREATE_RECORD_API: Failed to execute query\";\r\n            }\r\n          }\r\n        },\r\n      });\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\nonMounted(() => {\r\n  fetchFacility();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../Style/BIOMD.scss\";\r\n</style>\r\n","import script from \"./MODEL-ModelDescription.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MODEL-ModelDescription.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MODEL-ModelDescription.vue?vue&type=style&index=0&id=ee411060&lang=scss&scoped=true\"\n\nimport exportComponent from \"/mnt/d/Dev/MEMS/src/client/web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ee411060\"]])\n\nexport default __exports__","import script from \"./UI-Input.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UI-Input.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./UI-Section.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UI-Section.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UI-Section.vue?vue&type=style&index=0&id=cfc2dae0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/mnt/d/Dev/MEMS/src/client/web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-cfc2dae0\"]])\n\nexport default __exports__"],"names":["store","useStore","sendSocketReq","request","dispatch","DepartmentDescription","inject","GlobalDepartmentInformation","facilityList","ref","fetchFacility","async","selectedFacility","event","target","value","InputEvent","inputType","facilityID","data","Expiry","Type","Request","Module","ServiceCode","API","return_array","max_list","find","collection","queries","field","op","projection","_id","facilityName","callback","res","console","log","Response","records","facility","fetchDepartment","error","onMounted","__exports__"],"sourceRoot":""}