"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[875,1028,9631],{875:function(e,l,a){a.r(l),a.d(l,{default:function(){return H}});var t=a(6252),s=a(2262),o=a(9963),u=a(3577),n=a(3907),r=a(1028),c=a(3432);const d=e=>((0,t.dD)("data-v-16b7251e"),e=e(),(0,t.Cn)(),e),i={class:"col-lg-6 mb-3"},m={class:"col-lg-6 mb-3"},p=d((()=>(0,t._)("label",{for:"assetList",class:"form-label"},"Parent Equipment",-1))),f={id:"assetListOptions"},v=["value"],S={key:0,class:"py-3 px-2"},_=d((()=>(0,t._)("span",{class:"fw-bold"},"Asset Profile",-1))),b={class:"d-flex flex-column gap-1"},y={class:"d-flex gap-3 align-items-center"},g=d((()=>(0,t._)("span",null,"Status: ",-1))),D={class:"badge rounded-pill bg-success"},M={class:"col-lg-6 mb-3"},N={class:"col-lg-6 mb-3"},U=d((()=>(0,t._)("label",{for:"manufacturerList",class:"form-label"},"Manufacturer",-1))),w={id:"manufacturerListOptions"},E=["value"],R={class:"col-lg-6 mb-3"},I=d((()=>(0,t._)("label",{for:"modelList",class:"form-label"},"Model",-1))),x={id:"modelListOptions"},A=["value"],P={key:0,class:"py-3 px-2"},C=d((()=>(0,t._)("span",{class:"fw-bold"},"Model Profile",-1))),k={class:"d-flex flex-column gap-1"},T={class:"col-lg-6 mb-3"},h={class:"col-lg-6 mb-3"},O=d((()=>(0,t._)("label",{for:"statusList",class:"form-label"},"Status",-1))),V=["value","selected"];var q={setup(e){const l=(0,n.oR)(),a=e=>{l.dispatch("sendSocketReq",e)},d=(0,s.iH)(null),q=(0,s.iH)(null),L=(0,s.iH)(null),z=(0,s.iH)([{name:"Active Deployed",value:"Active Deployed",selected:!0},{name:"Active in Storage",value:"Active in Storage"},{name:"Active in Service",value:"Active in Service"},{name:"Storage Repairable",value:"Storage Repairable"},{name:"Storage Parts",value:"Storage Parts"},{name:"Disposed",value:"Disposed"}]),H=(0,t.f3)("AssetDetails"),F=(0,t.f3)("GlobalAssetInformation"),Y=async e=>{try{const l=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(F.value.manufacturerID=null,a({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Manufacturer",queries:[{field:"manufacturerName",op:"sb",value:"^"}],projection:{_id:1,manufacturerName:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),d.value=e.Response.records):e.Type}})):(H.value.selectedManufacturer=d.value.find((e=>l===e.manufacturerName)),F.value.manufacturerID=H.value.selectedManufacturer._id,await $())}catch(l){console.log(l)}},$=async e=>{try{const l=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(F.value.modelID=null,a({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Model",queries:[{field:"manufacturerID",op:"eq_id",value:F.value.manufacturerID}],projection:{_id:1,modelName:1,commonName:1,UMDNSCode:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),q.value=e.Response.records):e.Type}})):(H.value.selectedModel=q.value.find((e=>l===e.modelName)),F.value.modelID=H.value.selectedModel._id)}catch(l){console.log(l)}},j=async e=>{try{const l=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(F.value.parentAssetID=null,a({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Asset",queries:[{field:"assetCode",op:"sb",value:"^"}],lookups:[{localField:"modelID",collection:"Model",foreignField:"_id",as:"Model"},{localField:"manufacturerID",collection:"Manufacturer",foreignField:"_id",as:"Manufacturer"}],projection:{_id:1,assetCode:1,status:1,serialNumber:1,modelName:"$Model.modelName",manufacturerName:"$Manufacturer.manufacturerName"}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),L.value=e.Response.records):e.Type}})):(H.value.selectedParentAsset=L.value.find((e=>l===e.assetCode)),F.value.parentAssetID=H.value.selectedParentAsset._id)}catch(l){console.log(l)}};return(0,t.bv)((()=>{Y(),j()})),(e,l)=>((0,t.wg)(),(0,t.j4)(c["default"],{sectionTitle:"Asset Details"},{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(r["default"],{label:"Equipment Number",type:"text",id:"assetCode",placeholder:"Enter Equipment Number",modelValue:(0,s.SU)(H).assetCode,"onUpdate:modelValue":l[0]||(l[0]=e=>(0,s.SU)(H).assetCode=e)},null,8,["modelValue"])]),(0,t._)("div",m,[(0,t._)("div",null,[p,(0,t.wy)((0,t._)("input",{class:"form-control",list:"assetListOptions",id:"assetList",placeholder:"Select Parent Equipment","aria-label":"Default select example","onUpdate:modelValue":l[1]||(l[1]=e=>(0,s.SU)(H).selectedParentAsset.assetCode=e),onInput:j,autocomplete:"off"},null,544),[[o.nr,(0,s.SU)(H).selectedParentAsset.assetCode]]),(0,t._)("datalist",f,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(L.value,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.index,value:e.assetCode},null,8,v)))),128))])]),(0,s.SU)(H).selectedParentAsset.assetCode?((0,t.wg)(),(0,t.iD)("div",S,[_,(0,t._)("div",b,[(0,t._)("div",null,[(0,t._)("span",null,"Manufacturer: "+(0,u.zw)((0,s.SU)(H).selectedParentAsset.manufacturerName),1)]),(0,t._)("div",null,[(0,t._)("span",null,"Model: "+(0,u.zw)((0,s.SU)(H).selectedParentAsset.modelName),1)]),(0,t._)("div",null,[(0,t._)("span",null,"Serial Number: "+(0,u.zw)((0,s.SU)(H).selectedParentAsset.serialNumber),1)]),(0,t._)("div",y,[g,(0,t._)("span",D,(0,u.zw)((0,s.SU)(H).selectedParentAsset.status),1)])])])):(0,t.kq)("",!0)]),(0,t._)("div",M,[(0,t.Wm)(r["default"],{label:"Serial Number",type:"text",id:"serialNumber",placeholder:"Enter Serial Number",modelValue:(0,s.SU)(H).serialNumber,"onUpdate:modelValue":l[2]||(l[2]=e=>(0,s.SU)(H).serialNumber=e)},null,8,["modelValue"])]),(0,t._)("div",N,[U,(0,t.wy)((0,t._)("input",{class:"form-control",list:"manufacturerListOptions",id:"manufacturerList",placeholder:"Select Manufacturer","aria-label":"Default select example","onUpdate:modelValue":l[3]||(l[3]=e=>(0,s.SU)(H).selectedManufacturer.manufacturerName=e),onInput:Y,autocomplete:"off"},null,544),[[o.nr,(0,s.SU)(H).selectedManufacturer.manufacturerName]]),(0,t._)("datalist",w,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(d.value,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.index,value:e.manufacturerName},null,8,E)))),128))])]),(0,t._)("div",R,[(0,t._)("div",null,[I,(0,t.wy)((0,t._)("input",{class:"form-control",list:"modelListOptions",id:"modelList",placeholder:"Select Model","aria-label":"Default select example","onUpdate:modelValue":l[4]||(l[4]=e=>(0,s.SU)(H).selectedModel.modelName=e),onInput:$,autocomplete:"off"},null,544),[[o.nr,(0,s.SU)(H).selectedModel.modelName]]),(0,t._)("datalist",x,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(q.value,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.index,value:e.modelName},null,8,A)))),128))])]),(0,s.SU)(H).selectedModel.modelName?((0,t.wg)(),(0,t.iD)("div",P,[C,(0,t._)("div",k,[(0,t._)("span",null,"Common Name: "+(0,u.zw)((0,s.SU)(H).selectedModel.commonName),1),(0,t._)("span",null,"UMDNS Code: "+(0,u.zw)((0,s.SU)(H).selectedModel.UMDNSCode),1)])])):(0,t.kq)("",!0)]),(0,t._)("div",T,[(0,t.Wm)(r["default"],{label:"Year of manufacture",type:"date",id:"yearOfManufacture",placeholder:"Enter Year of manufacture",modelValue:(0,s.SU)(H).manufactureDate,"onUpdate:modelValue":l[5]||(l[5]=e=>(0,s.SU)(H).manufactureDate=e)},null,8,["modelValue"])]),(0,t._)("div",h,[O,(0,t.wy)((0,t._)("select",{id:"statusList",class:"form-select","aria-label":"Default select example","onUpdate:modelValue":l[6]||(l[6]=e=>(0,s.SU)(H).status=e)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(z.value,(e=>((0,t.wg)(),(0,t.iD)("option",{key:e.value,value:e.value,selected:e.selected},(0,u.zw)(e.name),9,V)))),128))],512),[[o.bM,(0,s.SU)(H).status]])])])),_:1}))}},L=a(3744);const z=(0,L.Z)(q,[["__scopeId","data-v-16b7251e"]]);var H=z},1028:function(e,l,a){a.r(l),a.d(l,{default:function(){return d}});var t=a(6252),s=a(3577);const o=["for"],u={class:"input-group mb-3"},n=["placeholder","id","type","value"];var r={props:{label:{type:String,default:"label"},placeholder:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"text"},modelValue:{type:[String,Number],default:""}},setup(e){return(l,a)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[e.label?((0,t.wg)(),(0,t.iD)("label",{key:0,for:e.id,class:"form-label"},(0,s.zw)(e.label),9,o)):(0,t.kq)("",!0),(0,t._)("div",u,[(0,t._)("input",(0,t.dG)(l.$attrs,{placeholder:e.placeholder,id:e.id,type:e.type,class:"form-control",value:e.modelValue,onInput:a[0]||(a[0]=e=>l.$emit("update:modelValue",e.target.value))}),null,16,n)])],64))}};const c=r;var d=c},3432:function(e,l,a){a.r(l),a.d(l,{default:function(){return d}});var t=a(6252),s=a(3577);const o={class:"section p-4 rounded shadow-sm"},u={class:"pb-3 fsXl section-title"};var n={props:{sectionTitle:{type:String,default:"Section Title"}},setup(e){return(l,a)=>((0,t.wg)(),(0,t.iD)("section",o,[(0,t._)("h5",u,(0,s.zw)(e.sectionTitle),1),(0,t.WI)(l.$slots,"default")]))}},r=a(3744);const c=(0,r.Z)(n,[["__scopeId","data-v-cfc2dae0"]]);var d=c}}]);
//# sourceMappingURL=875.21b0c495.js.map