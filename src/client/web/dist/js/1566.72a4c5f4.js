"use strict";(self["webpackChunkmems_client"]=self["webpackChunkmems_client"]||[]).push([[1566,1028,9631],{1566:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var a=l(6252),i=l(2262),o=l(9963),c=l(3907),n=l(1028),s=l(3432);const r=e=>((0,a.dD)("data-v-484049c1"),e=e(),(0,a.Cn)(),e),d={class:"row row-cols-1 row-cols-sm-1 row-cols-md-2 row-cols-lg-2 g-3"},u={class:"col-lg-6"},p={class:"col-lg-6"},m={class:"col-lg-6 mb-3"},f=r((()=>(0,a._)("label",{for:"facilityList",class:"form-label"},"Facility",-1))),y={id:"facilityListOptions"},v=["value"];var g={setup(e){const t=(0,c.oR)(),l=e=>{t.dispatch("sendSocketReq",e)},r=(0,a.f3)("DepartmentDescription"),g=(0,a.f3)("GlobalDepartmentInformation"),S=(0,i.iH)(null),_=async e=>{try{const t=e?e.target.value:"";!e||e instanceof InputEvent&&"insertReplacementText"!==e.inputType?(g.value.facilityID=null,l({data:{Expiry:2e4,Type:"REQUEST",Request:{Module:"MEMS",ServiceCode:"BIOMD",API:"FIND_RECORD",return_array:!0,max_list:100,find:{collection:"Facility",queries:[{field:"facilityName",op:"sb",value:"^"}],projection:{_id:1,facilityName:1}}}},callback:e=>{"RESPONSE"===e.Type?(console.log("Response Packet --\x3e",e.Response),S.value=e.Response.records):e.Type}})):(r.value.selectedFacility=S.value.find((e=>t===e.facilityName)),g.value.facilityID=r.value.selectedFacility._id,await fetchDepartment())}catch(t){console.log(t)}};return(0,a.bv)((()=>{_()})),(e,t)=>((0,a.wg)(),(0,a.j4)(s["default"],{sectionTitle:"Department Description"},{default:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",u,[(0,a.Wm)(n["default"],{label:"Department Name",type:"text",id:"departmentName",placeholder:"Department Name",modelValue:(0,i.SU)(r).departmentName,"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.SU)(r).departmentName=e)},null,8,["modelValue"])]),(0,a._)("div",p,[(0,a.Wm)(n["default"],{label:"Short Name",type:"text",id:"shortName",placeholder:"Short Name",modelValue:(0,i.SU)(r).shortName,"onUpdate:modelValue":t[1]||(t[1]=e=>(0,i.SU)(r).shortName=e)},null,8,["modelValue"])]),(0,a._)("div",m,[f,(0,a.wy)((0,a._)("input",{class:"form-control",list:"facilityListOptions",id:"facilityList",placeholder:"Select Facility","aria-label":"Default select example","onUpdate:modelValue":t[2]||(t[2]=e=>(0,i.SU)(r).selectedFacility.facilityName=e),onInput:_,autocomplete:"off"},null,544),[[o.nr,(0,i.SU)(r).selectedFacility.facilityName]]),(0,a._)("datalist",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.value,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.index,value:e.facilityName},null,8,v)))),128))])])])])),_:1}))}},S=l(3744);const _=(0,S.Z)(g,[["__scopeId","data-v-484049c1"]]);var b=_},1028:function(e,t,l){l.r(t),l.d(t,{default:function(){return d}});var a=l(6252),i=l(3577);const o=["for"],c={class:"input-group mb-3"},n=["placeholder","id","type","value"];var s={props:{label:{type:String,default:"label"},placeholder:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:"text"},modelValue:{type:[String,Number],default:""}},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[e.label?((0,a.wg)(),(0,a.iD)("label",{key:0,for:e.id,class:"form-label"},(0,i.zw)(e.label),9,o)):(0,a.kq)("",!0),(0,a._)("div",c,[(0,a._)("input",(0,a.dG)(t.$attrs,{placeholder:e.placeholder,id:e.id,type:e.type,class:"form-control",value:e.modelValue,onInput:l[0]||(l[0]=e=>t.$emit("update:modelValue",e.target.value))}),null,16,n)])],64))}};const r=s;var d=r},3432:function(e,t,l){l.r(t),l.d(t,{default:function(){return d}});var a=l(6252),i=l(3577);const o={class:"section p-4 rounded shadow-sm"},c={class:"pb-3 fsXl section-title"};var n={props:{sectionTitle:{type:String,default:"Section Title"}},setup(e){return(t,l)=>((0,a.wg)(),(0,a.iD)("section",o,[(0,a._)("h5",c,(0,i.zw)(e.sectionTitle),1),(0,a.WI)(t.$slots,"default")]))}},s=l(3744);const r=(0,s.Z)(n,[["__scopeId","data-v-cfc2dae0"]]);var d=r}}]);
//# sourceMappingURL=1566.72a4c5f4.js.map