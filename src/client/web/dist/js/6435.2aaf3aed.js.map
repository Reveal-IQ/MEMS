{"version":3,"file":"js/6435.2aaf3aed.js","mappings":"4jDA2GMA,GAAQC,EAAAA,EAAAA,MACRC,EAAiBC,IACrBH,EAAMI,SAAS,gBAAiBD,IAG5BE,GAAaC,EAAAA,EAAAA,IAAI,IACjBC,GAAeD,EAAAA,EAAAA,IAAI,GACnBE,GAAgBF,EAAAA,EAAAA,IAAI,GACpBG,GAAkBH,EAAAA,EAAAA,IAAI,GAEtBI,EAAcC,UAClBC,QAAQC,IAAI,oBACZ,IACEX,EAAc,CACZY,KAAM,CACJC,OAAQ,IACRC,KAAM,UACNC,QAAS,CACPC,OAAQ,OACRC,YAAa,QACbC,IAAK,cACLC,WAAY,eAGhBC,SAAWC,IACT,GAAiB,aAAbA,EAAIP,KAAqB,CAC3BJ,QAAQC,IAAI,yBAAuBU,EAAIC,UACvCnB,EAAWoB,MAAQF,EAAIC,SAASE,QAGhClB,EAAciB,MAAQ,EACtBhB,EAAgBgB,MAAQ,EACxBlB,EAAakB,MAAQ,EACrB,IAAIE,EAAYtB,EAAWoB,MAC3BE,EAAUC,SAASC,IACjBtB,EAAakB,OAASI,EAAMC,UAC5BtB,EAAciB,OAASI,EAAME,OAC7BtB,EAAgBgB,OAASI,EAAMG,iBAExBT,EAAIP,QASnB,MAAOiB,GACPrB,QAAQC,IAAIoB,KAKVC,EAAavB,MAAOwB,EAAMC,KAC9BC,EAAK,aAAcF,EAAMC,I,OAI3BE,EAAAA,EAAAA,KAAU,KACR5B,O,u1CCpKF,MAAM6B,EAAc,EAEpB,S,2VC8BA,IAAIC,EAAOJ,EAAMI,K,gZC7BjB,MAAMD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,S,+rBCLA,MAAMA,EAAc,EAEpB,S,urBCgDA,IAAIC,EAAOJ,EAAMI,K,+jBC/CjB,MAAMD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE","sources":["webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-REPORTS/REPORTS-Summary2.vue","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-REPORTS/REPORTS-Summary2.vue?871f","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-Btn2.vue","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-Btn2.vue?1ca1","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-StatCard.vue","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-ToastGlobal.vue","webpack://mems-client/./src/components/BIOMD/BIOMD/BIOMD-UI/UI-ToastGlobal.vue?902d"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid\">\r\n    <nav class=\"d-flex gap-3 p-2\">\r\n      <small\r\n        class=\"text-secondary\"\r\n        style=\"cursor: pointer\"\r\n        @click=\"\r\n          changePage('reportsList', {\r\n            facilityName: props.facilityName,\r\n          })\r\n        \"\r\n        >Back</small\r\n      >\r\n    </nav>\r\n\r\n    <div class=\"d-flex flex-column p-2 mt-4\">\r\n      <span class=\"title text-dark fw-normal fs-3\"\r\n        >Global Inventory Summary by Department</span\r\n      >\r\n      <nav class=\"d-flex gap-3 p-1\">\r\n        <small class=\"text-secondary\" style=\"cursor: pointer\">Print</small>\r\n        <small class=\"text-secondary\" style=\"cursor: pointer\">CSV Export</small>\r\n        <small class=\"text-secondary\" style=\"cursor: pointer\">Download</small>\r\n      </nav>\r\n    </div>\r\n\r\n    <div class=\"p-2 mt-4\">\r\n      <small class=\"text-secondary\"\r\n        >List of active and inactive medical devices grouped by their\r\n        departments and the total value of active devices.\r\n      </small>\r\n    </div>\r\n    <div class=\"mt-4 p-2\">\r\n      <span class=\"fw-bold fs-4\">{{ props.facilityName }}</span>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <UIStatCard\r\n        cardTitle=\"Overall Departments\"\r\n        :statisticsValue=\"reportList.length\"\r\n        class=\"fs-4 fw-normal\"\r\n      />\r\n      <UIStatCard\r\n        cardTitle=\"Overall Active Devices\"\r\n        :statisticsValue=\"overallActive\"\r\n        class=\"fs-4 fw-normal\"\r\n      />\r\n      <UIStatCard\r\n        cardTitle=\"Overall Value\"\r\n        :statisticsValue=\"'$' + overallValue\"\r\n        class=\"fs-4 fw-normal\"\r\n      />\r\n      <UIStatCard\r\n        cardTitle=\"Overall Inactive Devices\"\r\n        :statisticsValue=\"overallInactive\"\r\n        class=\"fs-4 fw-normal\"\r\n      />\r\n    </div>\r\n    <div class=\"mt-4 table-responsive\">\r\n      <table\r\n        class=\"table table-responsive table-borderless mb-2\"\r\n        v-for=\"record in reportList\"\r\n        :key=\"record.department\"\r\n      >\r\n        <thead>\r\n          <tr style=\"background-color: #f5f6f6\">\r\n            <th scope=\"col\">\r\n              <small class=\"text-secondary fw-normal\">Department</small>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <small class=\"text-secondary fw-normal\">Active Devices</small>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <small class=\"text-secondary fw-normal\">Total Value</small>\r\n            </th>\r\n            <th scope=\"col\">\r\n              <small class=\"text-secondary fw-normal\">Inactive Devices</small>\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr style=\"background-color: #f5f6f6\">\r\n            <td>\r\n              <small>{{ record.department }}</small>\r\n            </td>\r\n            <td>\r\n              <small>{{ record.active }}</small>\r\n            </td>\r\n            <td>\r\n              <small>{{\"$\" + record.totalCost }}</small>\r\n            </td>\r\n            <td>\r\n              <small>{{ record.inactive }}</small>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport UIBtn2 from \"../BIOMD-UI/UI-Btn2.vue\";\r\nimport UIStatCard from \"../BIOMD-UI/UI-StatCard\";\r\nimport UIToastGlobal from \"../BIOMD-UI/UI-ToastGlobal.vue\";\r\nimport { useStore } from \"vuex\";\r\nconst store = useStore();\r\nconst sendSocketReq = (request) => {\r\n  store.dispatch(\"sendSocketReq\", request);\r\n};\r\n\r\nconst reportList = ref([]);\r\nconst overallValue = ref(0);\r\nconst overallActive = ref(0);\r\nconst overallInactive = ref(0);\r\n\r\nconst fetchReport = async () => {\r\n  console.log(\"calling function\");\r\n  try {\r\n    sendSocketReq({\r\n      data: {\r\n        Expiry: 20000,\r\n        Type: \"REQUEST\",\r\n        Request: {\r\n          Module: \"MEMS\",\r\n          ServiceCode: \"BIOMD\",\r\n          API: \"GET_REPORTS\",\r\n          reportType: \"department\",\r\n        },\r\n      },\r\n      callback: (res) => {\r\n        if (res.Type === \"RESPONSE\") {\r\n          console.log(\"Response Packet -->\", res.Response);\r\n          reportList.value = res.Response.records;\r\n          \r\n           //calculate overall metrics (should probably be pulled out into a seperate services just to be clean)\r\n          overallActive.value = 0;\r\n          overallInactive.value = 0;\r\n          overallValue.value = 0;\r\n          var assetList = reportList.value;\r\n          assetList.forEach((asset) => {\r\n            overallValue.value += asset.totalCost;\r\n            overallActive.value += asset.active;\r\n            overallInactive.value += asset.inactive;\r\n          });\r\n        } else if (res.Type === \"ERROR\") {\r\n          Type: \"ERROR\";\r\n          Response: {\r\n            Error_Code: \"API-CREATE_RECORD-E001\";\r\n            Error_Msg: \"CREATE_RECORD_API: Failed to execute query\";\r\n          }\r\n        }\r\n      },\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst emit = defineEmits([\"updatePage\"]);\r\nconst changePage = async (page, props) => {\r\n  emit(\"updatePage\", page, props);\r\n};\r\nconst props = defineProps([\"facilityName\", \"facilityID\"]);\r\n\r\nonMounted(() => {\r\n  fetchReport();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>","import script from \"./REPORTS-Summary2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./REPORTS-Summary2.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <button\r\n    type=\"button\"\r\n    class=\"btn buttonBackground d-inline-flex align-items-center fs-6 rounded\"\r\n    :class=\"class\"\r\n    :style=\"'--color:' + backgroundColor\"\r\n  >\r\n    <font-awesome-icon :icon=\"icon\" size=\"1x\" class=\"me-2\" />\r\n    <span class=\"fsXs\">{{ BtnName }}</span>\r\n\r\n    <slot />\r\n  </button>\r\n</template>\r\n\r\n<script setup>\r\nconst props = defineProps({\r\n  BtnName: {\r\n    type: String,\r\n    default: \"Button Name\",\r\n  },\r\n  class: {\r\n    type: String,\r\n    default: \"\",\r\n  },\r\n  showLoader: {\r\n    type: Boolean,\r\n    default: false,\r\n  },\r\n  backgroundColor: {\r\n    type: String,\r\n    default: \"#586974\",\r\n  },\r\n  icon: null,\r\n});\r\n\r\nlet icon = props.icon;\r\n\r\nconst emit = defineEmits([\"\"]);\r\n\r\nfunction emitClickEvent() {\r\n  emit(\"\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../Style/font-style.scss\";\r\n.buttonBackground {\r\n  background-color: var(--color);\r\n}\r\n\r\nbutton:focus {\r\n  outline: none;\r\n  box-shadow: none;\r\n}\r\n</style>\r\n","import script from \"./UI-Btn2.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UI-Btn2.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UI-Btn2.vue?vue&type=style&index=0&id=1a26e9bf&lang=scss&scoped=true\"\n\nimport exportComponent from \"/mnt/e/Dev/GitProjects/MEMS/src/client/web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a26e9bf\"]])\n\nexport default __exports__","import script from \"./UI-StatCard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UI-StatCard.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <section\r\n    class=\"col-lg-12 col-md-12 col-sm-12 col-12 border-1 toastBackground rounded-3 border border-warning\"\r\n    :class=\"props.class\"\r\n    :style=\"'--color:' + props.backgroundColor\"\r\n  >\r\n    <div class=\"row align-items-center my-2\">\r\n      <div\r\n        class=\"col-sm-2 d-flex justify-content-md-center justify-content-center\"\r\n      >\r\n        <font-awesome-icon\r\n          class=\"iconColor text-warning text-sm-start text-center\"\r\n          :icon=\"icon\"\r\n          size=\"2x\"\r\n        />\r\n      </div>\r\n      <div\r\n        class=\"col-sm-7 col d-flex flex-column justify-content-sm-start justify-content-center my-4 text-center text-sm-start text-secondary\"\r\n      >\r\n        <span class=\"fs-6\">{{ props.message }}</span>\r\n        <span class=\"fsXs fw-light\">{{ props.message2 }}</span>\r\n      </div>\r\n      <div\r\n        class=\"col-sm-3 d-flex justify-content-center justify-content-lg-center\"\r\n      >\r\n        <slot />\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nconst props = defineProps({\r\n  message: {\r\n    type: String,\r\n    default: \"message here\",\r\n  },\r\n  message2: {\r\n    type: String,\r\n    default: \"message here\",\r\n  },\r\n  class: {\r\n    type: String,\r\n    default: \"\",\r\n  },\r\n  backgroundColor: {\r\n    type: String,\r\n    default: \"#586974\",\r\n  },\r\n\r\n  icon: null,\r\n});\r\n\r\nlet icon = props.icon;\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../Style/font-style.scss\";\r\n\r\n.toastBackground {\r\n  background-color: var(--color);\r\n}\r\n.iconColor {\r\n  color: \"#D48713\";\r\n}\r\n</style>\r\n","import script from \"./UI-ToastGlobal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UI-ToastGlobal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UI-ToastGlobal.vue?vue&type=style&index=0&id=4546048e&lang=scss&scoped=true\"\n\nimport exportComponent from \"/mnt/e/Dev/GitProjects/MEMS/src/client/web/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4546048e\"]])\n\nexport default __exports__"],"names":["store","useStore","sendSocketReq","request","dispatch","reportList","ref","overallValue","overallActive","overallInactive","fetchReport","async","console","log","data","Expiry","Type","Request","Module","ServiceCode","API","reportType","callback","res","Response","value","records","assetList","forEach","asset","totalCost","active","inactive","error","changePage","page","props","emit","onMounted","__exports__","icon"],"sourceRoot":""}